apiVersion: core.oam.dev/v1beta1
kind: Application
metadata:
  name: tenant-99-setup
  namespace: vela-system
spec:
  components:
    - name: tenant-99
      type: tenant-ns
      properties:
        cpu: "1"
        memory: "1Gi"
        pods: "10"
  
  policies:
    - name: bypass-dryrun
      type: apply-once # This policy can help avoid constant re-validation issues
    
  workflow:
    steps:
      - name: apply-ns-and-quota
        type: apply-component
        properties:
          component: tenant-99
          # This is the magic flag for some versions of KubeVela workflow steps
          # to ignore health checks or dry-runs if they stall