teamName: "team-alpha"
appName: "preview-env"

vcluster:
  controlPlane:
    distro:
      k3s:
        enabled: true
        # REMOVED extraArgs from here to prevent the "IP family" crash
    
    statefulSet:
      image:
        repository: "loft-sh/vcluster-oss"
        tag: "0.22.3"
      # We pass the CIDR via ENV. vCluster uses this to configure 
      # the host-check and the internal K3s startup correctly.
      env:
        - name: "VCLUSTER_SERVICE_CIDR"
          value: "10.96.0.0/12"
      persistence:
        volumeClaim:
          enabled: true
          size: 5Gi

    proxy:
      extraSANs:
        - "preview-env.team-alpha.workloads.example.com"

  sync:
    toHost:
      services:
        enabled: true

ingress:
  enabled: true